"use strict";(self["webpackChunkgdv_frontend"]=self["webpackChunkgdv_frontend"]||[]).push([[7238],{27238:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var i=s(64562),a=s(63486),l=s(25372),n=s(85166),o=s(9449),c=s(10626),r=s(81402),d=s(89780),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"total-info-section w1000"},[e("div",{staticClass:"survy-agree-box type2"},[e("div",{staticClass:"survy-member-content",staticStyle:{width:"100%"}},[e("div",{staticClass:"total-tap-box another type2 mv"},[e(r.Z,[e(c.Z,{staticClass:"member",on:{click:function(e){t.tabIndex=0}}},[t._v("회원")]),e(c.Z,{staticClass:"none-member",on:{click:function(e){t.tabIndex=1}}},[t._v("비회원")])],1)],1),0===t.tabIndex?e("div",{staticClass:"tap-info-content masters active",staticStyle:{width:"100%"}},[t._m(0),e(i.Z,{staticClass:"mt26",staticStyle:{color:"#fff","margin-left":"auto",display:"block"},attrs:{elevation:"0",loading:t.isLoading,height:"50px",color:"#004EBC"},on:{click:function(e){return t.goOutSurv()}}},[e("img",{attrs:{src:s(58963),alt:""}}),t._v(" 미등록자 설문하기")]),e("form",{staticClass:"center-search-wrap mt33"},[e(n.Z,{staticClass:"center-search-select",attrs:{items:t.items,"item-text":"name","item-value":"value",loading:t.isLoading,label:"검색조건",solo:"","hide-details":""},on:{change:function(e){t.pInput2="00"===t.option2?"":t.pInput2}},model:{value:t.option2,callback:function(e){t.option2=e},expression:"option2"}}),e(d.Z,{staticClass:"center-search-input",attrs:{loading:t.isLoading,label:"",placeholder:"검색조건 선택 후 검색어를 입력해주세요",disabled:"00"===t.option2,maxlength:"25",outlined:"",dense:"","hide-details":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchList.apply(null,arguments)}},model:{value:t.pInput2,callback:function(e){t.pInput2=e},expression:"pInput2"}}),e(i.Z,{staticClass:"vue-bt-small",attrs:{elevation:"0",loading:t.isLoading},on:{click:t.searchList}},[t._v("검색")])],1),e("div",{staticClass:"mt26",staticStyle:{width:"100%"}},[e("span",{staticClass:"serch-num-count"},[t._v("검색 수 : "+t._s(t.listCnt.tot_cnt))]),t.isLoading?t._e():e(o.Z,{staticClass:"common-research-table notice mt33",staticStyle:{width:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("아이디")]),e("th",{staticClass:"text-center"},[t._v("이름")]),e("th",{staticClass:"text-center"},[t._v("전화번호")]),e("th",{staticClass:"text-center"},[t._v("대상자 추가")])])]),e("tbody",t._l(t.list,(function(s){return e("tr",{key:s.userId},[e("td",[t._v(t._s(s.userId))]),e("td",[t._v(t._s(s.userNm))]),e("td",[t._v(t._s(s.mblTelno))]),e("td",[e(i.Z,{staticClass:"vue-bt",attrs:{elevation:"0"},on:{click:function(e){return t.putSetMember(s.userId)}}},[t._v("대상자 추가")])],1)])})),0)]},proxy:!0}],null,!1,3402172204)})],1),e("div",{staticClass:"pagination-box text-center mt40 mb50"},[e(l.Z,{directives:[{name:"show",rawName:"v-show",value:t.listCnt.pagecnt>1,expression:"listCnt.pagecnt > 1"}],attrs:{length:t.listCnt.pagecnt,loading:t.isLoading},on:{input:t.getGetUserList},model:{value:t.page2,callback:function(e){t.page2=e},expression:"page2"}})],1),e("div",{staticClass:"section-line type-blue"}),e("div",{staticClass:"survy-member-content",staticStyle:{width:"100%"}},[e("div",{staticClass:"tap-info-content",staticStyle:{width:"100%"}},[t._m(1),e("form",{staticClass:"center-search-wrap mt33",staticStyle:{width:"100%"}},[e(n.Z,{staticClass:"center-search-select",attrs:{loading:t.isLoading,items:t.items,"item-text":"name","item-value":"value",label:"검색조건",solo:"","hide-details":""},on:{change:function(e){t.pInput="00"===t.option?"":t.pInput}},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}}),e(d.Z,{staticClass:"center-search-input",attrs:{loading:t.isLoading,label:"",placeholder:"검색조건 선택 후 검색어를 입력해주세요",maxlength:"25",disabled:"00"===t.option,outlined:"",dense:"","hide-details":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchList2.apply(null,arguments)}},model:{value:t.pInput,callback:function(e){t.pInput=e},expression:"pInput"}}),e(i.Z,{staticClass:"vue-bt-small",attrs:{elevation:"0",loading:t.isLoading},on:{click:t.searchList2}},[t._v("검색")])],1),e("div",{staticClass:"mt42",staticStyle:{width:"100%"}},[e("span",{staticClass:"serch-num-count"},[t._v("회원 설문대상자 수 : "+t._s(t.cnt.TOT_CNT))]),e("div",{staticClass:"mt10"},[e("span",{staticClass:"check-box-ui",on:{click:t.getGetTargetSmsAllcheck}},[t._v("전체선택")]),e("span",{staticClass:"check-box-ui",on:{click:t.getGetTargetSmsAlldischeck}},[t._v("전체해제")])]),t.isLoading?t._e():e(o.Z,{staticClass:"common-research-table notice mt33",staticStyle:{width:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("SMS 발송")]),e("th",{staticClass:"text-center"},[t._v("아이디")]),e("th",{staticClass:"text-center"},[t._v("이름")]),e("th",{staticClass:"text-center"},[t._v("전화번호")]),e("th",{staticClass:"text-center",staticStyle:{cursor:"pointer"}},[t._v(" 삭제 ")])])]),e("tbody",t._l(t.table1,(function(i){return e("tr",{key:i.trprId},[e("td",[e(a.Z,{staticClass:"table-checkbox",attrs:{color:"blue",width:"100%","input-value":i.smsTrsmYn,"hide-details":"",loading:t.isLoading,"true-value":"Y","false-value":"N"},on:{change:function(e){return t.putSetTargetSmsState(i.trprId,i.smsTrsmYn)}},model:{value:i.smsTrsmYn,callback:function(e){t.$set(i,"smsTrsmYn",e)},expression:"item.smsTrsmYn"}})],1),e("td",[t._v(t._s(i.trprId))]),e("td",[t._v(t._s(i.trprNm))]),e("td",[t._v(t._s(i.mblTelno))]),e("td",[e("img",{staticStyle:{position:"relative",top:"7px"},attrs:{src:s(23757),alt:""},on:{click:function(e){return t.deleteDeleteMember(i.trprId)}}})])])})),0)]},proxy:!0}],null,!1,1459353047)})],1),e("div",{staticClass:"pagination-box text-center mt40"},[e(l.Z,{directives:[{name:"show",rawName:"v-show",value:t.cnt.PAGECNT>1,expression:"cnt.PAGECNT > 1"}],attrs:{loading:t.isLoading,length:t.cnt.PAGECNT},on:{input:t.getGetMemberList},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)]),e("div",{staticClass:"survy-file-box mt81"},[e("div",{staticClass:"file-header-wrap mb7 d-flex justify-lg-space-between"},[e("span",{staticClass:"file-header-title"},[e("img",{staticClass:"mr10",attrs:{src:s(88039),alt:"파일업로드"}}),t._v(" 회원파일 업로드(2MB 제한)")]),e("div",[e("a",{attrs:{href:"/files/member_input_layout.xlsx",download:"회원_업로드양식.xlsx"}},[e(i.Z,{staticStyle:{color:"#fff","margin-right":"5px"},attrs:{elevation:"0",loading:t.isLoading,height:"32px",color:"#177EE7"}},[e("img",{staticClass:"mr10",attrs:{src:s(12356),alt:"파일다운로드"}}),t._v(" 회원파일 업로드 형식 다운로드")])],1),e(i.Z,{staticClass:"mr5",staticStyle:{color:"#fff"},attrs:{elevation:"0",loading:t.isLoading,type:"file",height:"32px",color:"#004EBC"},on:{click:t.postPutUploadFile}},[t._v("업로드")])],1)]),e("div",{staticClass:"upload-area",on:{click:t.onClickMemberUpload}},[e("div",{staticClass:"upload-area-wrap text-center"},[e("div",{staticClass:"upload-area-content"},[e("p",[t._v(t._s(t.excelMemberUpload))]),e("input",{attrs:{id:"fileMemberUpload",type:"file",accept:".xls, .xlsx",hidden:""},on:{change:t.selectFile}})])])])]),e("div",{staticClass:"survy-file-box mt81"},[e("div",{staticClass:"file-header-wrap mb7 d-flex justify-lg-space-between"},[e("span",{staticClass:"file-header-title"},[e("img",{staticClass:"mr10",attrs:{src:s(88039),alt:"파일업로드"}}),t._v(" 회원 결과 파일 업로드(2MB 제한)")]),e("div",[e("a",{attrs:{href:"/files/member_result_input_layout.xlsx",download:"회원결과_업로드양식.xlsx"}},[e(i.Z,{staticStyle:{color:"#fff","margin-right":"5px"},attrs:{elevation:"0",loading:t.isLoading,height:"32px",color:"#177EE7"}},[e("img",{staticClass:"mr10",attrs:{src:s(12356),alt:"파일다운로드"}}),t._v(" 회원결과 업로드 형식 다운로드")])],1),e(i.Z,{staticClass:"mr5",staticStyle:{color:"#fff"},attrs:{elevation:"0",loading:t.isLoading,type:"file",height:"32px",color:"#004EBC"},on:{click:t.postPutUploadResultFile}},[t._v("업로드")])],1)]),e("div",{staticClass:"upload-area",on:{click:t.onClickMemberResultUpload}},[e("div",{staticClass:"upload-area-wrap text-center"},[e("div",{staticClass:"upload-area-content"},[e("p",[t._v(t._s(t.excelMemberResultUpload))]),e("input",{attrs:{id:"fileMemberResultUpload",type:"file",accept:".xls, .xlsx",hidden:""},on:{change:t.selectResultFile}})])])])])])],1):e("NonMember")],1)])])},h=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tap-wrap text-center",staticStyle:{width:"100%"}},[e("p",{staticClass:"tap-info-content-title"},[t._v("회원검색 및 추가")]),e("p",{staticClass:"tap-info-content-sub-title"},[t._v("사이트에 등록된 회원을 검색할 수 있습니다.")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tap-wrap text-center",staticStyle:{width:"100%"}},[e("p",{staticClass:"tap-info-content-title"},[t._v("설문대상자 목록")]),e("p",{staticClass:"tap-info-content-sub-title"},[t._v("현재 설문조사에 등록된 회원 리스트입니다.")])])}],u=s(97452),g=s(20629),m=s(25108),v={props:{isReload:{type:Boolean,required:!0,default:!1}},components:{NonMember:u["default"]},data(){return{items:[{name:"전체",value:"00"},{name:"아이디",value:"id"},{name:"이름",value:"name"}],table1:[],page:1,tabIndex:0,checkbox:!1,option:"00",pInput:"",cnt:{},list:[],listCnt:[],page2:1,option2:"00",pInput2:"",excelMemberUpload:"파일을 등록해주세요",excelMemberUploadFile:"",excelMemberResultUpload:"파일을 등록해주세요",excelMemberResultUploadFile:""}},created(){this.init()},watch:{isReload(t){t&&this.init()}},computed:{...(0,g.rn)("gdv-app",["srvyRegNo","pwdUrl"]),...(0,g.Se)("global",["isLoading"])},methods:{...(0,g.nv)("global",["showLoading","hideLoading","showSuccess","showError"]),init(){this.getGetMemberList()},getGetMemberList(){this.showLoading(),this.$apis.survey.getGetMemberList(this.srvyRegNo,this.option,this.page,this.pInput).then((t=>{m.log(t),this.table1=t.data.response.list,this.cnt=t.data.response.cnt})).catch((t=>{m.log(t)})).finally((()=>{this.hideLoading()}))},getGetUserList(){this.showLoading(),this.$apis.survey.getGetUserList(this.srvyRegNo,this.option2,this.page2,this.pInput2).then((t=>{m.log(t),this.list=t.data.response.list,this.listCnt=t.data.response.cnt})).catch((t=>{m.log(t)})).finally((()=>{this.hideLoading()}))},putSetMember(t){this.showLoading(),this.$apis.survey.putSetMember(this.srvyRegNo,t).then((t=>{m.log(t),this.getGetMemberList()})).catch((t=>{m.log(t)})).finally((()=>{this.hideLoading()}))},deleteDeleteMember(t){this.showLoading(),this.$apis.survey.deleteDeleteMember(this.srvyRegNo,t).then((t=>{m.log(t),this.getGetMemberList()})).catch((t=>{m.log(t)})).finally((()=>{this.hideLoading()}))},putSetTargetSmsState(t,e){this.showLoading(),this.$apis.survey.putSetTargetSmsState(this.srvyRegNo,t,e).then((t=>{m.log(t),this.getGetMemberList()})).catch((t=>{m.log(t)})).finally((()=>{this.hideLoading()}))},onClickMemberUpload(){const t=document.getElementById("fileMemberUpload");t.click()},selectFile(t){this.excelMemberUploadFile=t.target.files[0],this.excelMemberUpload=t.target.files[0].name},postPutUploadFile(){const t=new FormData;t.append("srvyRegNo",this.srvyRegNo),t.append("file",this.excelMemberUploadFile),this.showLoading(),this.$apis.survey.postPutUploadFile(t).then((t=>{m.log(t),document.getElementById("fileMemberUpload").value=null,this.excelMemberUpload="파일을 등록해주세요",this.getGetMemberList()})).catch((t=>{document.getElementById("fileMemberUpload").value=null,m.error(t)})).finally((()=>{this.hideLoading()}))},onClickMemberResultUpload(){const t=document.getElementById("fileMemberResultUpload");t.click()},selectResultFile(t){this.excelMemberResultUploadFile=t.target.files[0],this.excelMemberResultUpload=t.target.files[0].name},postPutUploadResultFile(){const t=new FormData;t.append("srvyRegNo",this.srvyRegNo),t.append("file",this.excelMemberResultUploadFile),this.showLoading(),this.$apis.survey.postPutUploadResultFile(t).then((t=>{m.log(t),document.getElementById("fileMemberResultUpload").value=null,this.excelMemberResultUpload="파일을 등록해주세요",this.getGetMemberList()})).catch((t=>{document.getElementById("fileMemberResultUpload").value=null,m.error(t)})).finally((()=>{this.hideLoading()}))},getGetTargetSmsAllcheck(){this.showLoading(),this.$apis.survey.getGetTargetSmsAllcheck(this.srvyRegNo).then((t=>{m.log(t),this.getGetMemberList()})).catch((t=>{m.log(t)})).finally((()=>{this.hideLoading()}))},getGetTargetSmsAlldischeck(){this.showLoading(),this.$apis.survey.getGetTargetSmsAlldischeck(this.srvyRegNo).then((t=>{m.log(t),this.getGetMemberList()})).catch((t=>{m.log(t)})).finally((()=>{this.hideLoading()}))},searchList(){"00"!==this.option2&&this.pInput2.length<1?this.showSuccess("검색어는 1글자 이상 입력해주세요."):(this.page=1,this.getGetUserList())},searchList2(){"00"!==this.option&&this.pInput.length<1?this.showSuccess("검색어는 1글자 이상 입력해주세요."):(this.page=1,this.getGetMemberList())},goOutSurv(){window.open(this.pwdUrl,"_blank")}}},f=v,b=s(1001),y=(0,b.Z)(f,p,h,!1,null,null,null),C=y.exports}}]);