"use strict";(self["webpackChunkgdv_frontend"]=self["webpackChunkgdv_frontend"]||[]).push([[1774],{97452:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var a=s(64562),i=s(34145),o=s(63486),n=s(69228),l=s(25372),r=s(85166),c=s(9449),d=s(89780),h=s(92648),g=s(96313),u=(s(57658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"survy-member-content",staticStyle:{width:"100%"}},[e("div",{staticClass:"tap-info-content",staticStyle:{width:"100%"}},[t._m(0),e(a.Z,{staticClass:"mt26",staticStyle:{color:"#fff","margin-left":"auto",display:"block"},attrs:{loading:t.isLoading,elevation:"0",height:"50px",color:"#004EBC"},on:{click:function(e){return t.goOutSurv()}}},[e("img",{attrs:{src:s(58963),alt:""}}),t._v(" 미등록자 설문하기")]),e("form",{staticClass:"center-search-wrap mt33"},[e(r.Z,{staticClass:"center-search-select",attrs:{loading:t.isLoading,items:t.items,"item-text":"name","item-value":"value",label:"검색조건",solo:"","hide-details":""},on:{change:function(e){t.pInput="00"===t.option?"":t.pInput}},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}}),e(d.Z,{staticClass:"center-search-input",attrs:{loading:t.isLoading,label:"",placeholder:"검색조건 선택 후 검색어를 입력해주세요",maxlength:"25",disabled:"00"===t.option,outlined:"",dense:"","hide-details":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchList.apply(null,arguments)}},model:{value:t.pInput,callback:function(e){t.pInput=e},expression:"pInput"}}),e(a.Z,{staticClass:"vue-bt-small",attrs:{elevation:"0",loading:t.isLoading},on:{click:t.searchList}},[t._v("검색")])],1),e("div",{staticClass:"mt26",staticStyle:{width:"100%"}},[e("span",{staticClass:"serch-num-count"},[t._v("비회원 설문대상자 수 : "),e("span",{staticClass:"num"},[t._v(t._s(t.table1.length))])]),e("div",{staticClass:"d-flex mb5",staticStyle:{"justify-content":"space-between","align-items":"center"}},[e("div",[e("span",{staticClass:"check-box-ui",on:{click:t.getGetTargetAllcheck}},[t._v("전체선택")]),e("span",{staticClass:"check-box-ui",on:{click:t.getGetTargetAlldischeck}},[t._v("전체해제")])])]),t.isLoading?t._e():e(c.Z,{staticClass:"common-research-table notice mt33",staticStyle:{width:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("SMS 발송")]),e("th",{staticClass:"text-center"},[t._v("아이디")]),e("th",{staticClass:"text-center"},[t._v("이름")]),e("th",{staticClass:"text-center"},[t._v("전화번호")]),e("th",{staticClass:"text-center"},[t._v("설문참여여부")]),e("th",{staticClass:"text-center"},[t._v("설문하기")]),e("th",{staticClass:"text-center",staticStyle:{cursor:"pointer"}},[t._v(" 삭제 ")])])]),e("tbody",t._l(t.table1,(function(i,n){return e("tr",{key:n},[e("td",[e(o.Z,{staticClass:"table-checkbox",attrs:{color:"blue",width:"100%","input-value":i.smsTrsmYn,"hide-details":"","true-value":"Y","false-value":"N"},on:{change:function(e){return t.putSetTargetSmsState(i.trprId,i.smsTrsmYn)}},model:{value:i.smsTrsmYn,callback:function(e){t.$set(i,"smsTrsmYn",e)},expression:"item.smsTrsmYn"}})],1),e("td",[t._v(t._s(i.trprId))]),e("td",[e(d.Z,{on:{change:function(e){return t.setFlag(i)}},model:{value:i.trprNm,callback:function(e){t.$set(i,"trprNm",e)},expression:"item.trprNm"}})],1),e("td",[e(d.Z,{on:{change:function(e){return t.setFlag(i)}},model:{value:i.mblTelno,callback:function(e){t.$set(i,"mblTelno",e)},expression:"item.mblTelno"}})],1),e("td",[t._v(t._s(i.quExeAt))]),"참여"!==i.quExeAt?e("td",[e(a.Z,{staticClass:"vue-bt",attrs:{elevation:"0"},on:{click:function(e){return t.goGetNomemSurv(i)}}},[t._v("설문하기")])],1):e("td",[t._v("설문완료")]),e("td",[e("img",{staticStyle:{position:"relative",top:"7px"},attrs:{src:s(23757),alt:""},on:{click:function(e){return t.deleteDeleteTarget(i.trprId)}}})])])})),0)]},proxy:!0}],null,!1,465547526)}),e(a.Z,{staticClass:"mt18",staticStyle:{color:"#fff"},attrs:{elevation:"0",type:"file",height:"32px",color:"#004EBC",loading:t.isLoading},on:{click:function(e){t.targetAdd.srvyRegNo=t.srvyRegNo,t.table1.push(Object.assign({},t.targetAdd)),t.getGetNomemberList}}},[t._v("1줄씩 추가하기")])],1),e("div",{staticClass:"pagination-box text-center mt53"},[e(l.Z,{directives:[{name:"show",rawName:"v-show",value:t.cnt.PAGE_CNT>1,expression:"cnt.PAGE_CNT > 1"}],attrs:{length:t.cnt.PAGE_CNT,loading:t.isLoading},on:{input:t.getGetNomemberList},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),e("div",{staticClass:"d-flex mt42 mla",staticStyle:{"justify-content":"flex-end"}},[e("div",{staticClass:"button-textarea-box",staticStyle:{"max-width":"404px",width:"100%"}},[e(n.Z,{staticClass:"common-modal-wrap",attrs:{transition:"scale-transition","max-width":"764"},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e(a.Z,t._g({staticClass:"mr5",staticStyle:{color:"#fff"},attrs:{elevation:"0",height:"32px",color:"#177EE7",loading:t.isLoading}},s),[t._v(" 전체 비회원 리스트 다운로드")])]}},{key:"default",fn:function(o){return[e(i.Z,[e(g.Z,{staticClass:"common-modal-header",attrs:{color:"#004ebc",dark:""}},[t._v(" 전체 비회원 리스트 다운로드 "),e(a.Z,{staticClass:"mla",attrs:{text:"",loading:t.isLoading},on:{click:function(t){o.value=!1}}},[e("img",{attrs:{src:s(21856),alt:"닫기 버튼 이미지"}})])],1),e("main",{staticClass:"p40"},[e("h3",{staticClass:"total-info-subtitle d-flex mt0"},[e("span",{staticClass:"info-middot"},[t._v("·")]),t._v("다운로드 사유를 입력해주세요. "),e("span",{staticClass:"require-star"},[t._v(" (필수 *)")])]),e(h.Z,{staticClass:"mt22",attrs:{outlined:"",name:"input-7-4","no-resize":"",loading:t.isLoading,placeholder:"사유를 입력해주세요",height:"185","hide-details":""},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}}),e("div",{staticClass:"vue-bt-wrap align-right mt26"},[e(a.Z,{staticClass:"vue-bt",attrs:{elevation:"0",loading:t.isLoading},on:{click:function(t){o.value=!1}}},[t._v("취소")]),e(a.Z,{staticClass:"vue-bt",attrs:{elevation:"0",loading:t.isLoading},on:{click:t.getGetSmsDown}},[t._v("저장")])],1)],1)],1)]}}])}),e(a.Z,{staticClass:"vue-bt",staticStyle:{color:"#fff"},attrs:{elevation:"0",height:"32px",color:"#004ebc",loading:t.isLoading},on:{click:t.getSetTarget}},[t._v("저장")])],1)])],1),e("div",{staticClass:"survy-file-box mt155"},[e("div",{staticClass:"file-header-wrap mb7 d-flex justify-lg-space-between"},[e("span",{staticClass:"file-header-title"},[e("img",{staticClass:"mr10",attrs:{src:s(88039),alt:"파일업로드"}}),t._v(" 비회원파일 업로드(2MB 제한)")]),e("div",[e("a",{attrs:{href:"/files/nomember_input_layout.xlsx",download:"비회원_업로드양식.xlsx"}},[e(a.Z,{staticStyle:{color:"#fff","margin-right":"5px"},attrs:{elevation:"0",height:"32px",color:"#177EE7",loading:t.isLoading}},[e("img",{staticClass:"mr10",attrs:{src:s(12356),alt:"파일다운로드"}}),t._v(" 비회원파일 업로드 형식 다운로드")])],1),e(a.Z,{staticClass:"mr5",staticStyle:{color:"#fff"},attrs:{elevation:"0",type:"file",height:"32px",color:"#004EBC"},on:{click:t.postPutUploadNomemberFile}},[t._v("업로드")])],1)]),e("div",{staticClass:"upload-area",on:{click:t.onClickNoMemberUpload}},[e("div",{staticClass:"upload-area-wrap text-center"},[e("div",{staticClass:"upload-area-content"},[e("p",[t._v(t._s(t.excelNoMemberUpload))]),e("input",{attrs:{id:"fileNoMemberUpload",type:"file",accept:".xls, .xlsx",hidden:""},on:{change:t.selectFile}})])])])])])}),p=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tap-wrap text-center",staticStyle:{width:"100%"}},[e("p",{staticClass:"tap-info-content-title"},[t._v("비회원 설문대상자 목록")]),e("p",{staticClass:"tap-info-content-sub-title"},[t._v("현재 설문조사에 등록된 비회원 리스트입니다.")])])}],m=s(74295),v=s.n(m),A=s(20629),f=s(25108),b={data(){return{items:[{name:"전체",value:"00"},{name:"이름",value:"01"},{name:"설문참여여부",value:"02"}],table1:[],cnt:[],page:1,checkbox:!1,option:"00",pInput:"",targetAdd:{flag:"I",trprId:"",trprNm:"",mblTelno:"",quExeAt:"미참여",smsTrsmYn:"N",srvyRegNo:""},excelNoMemberUpload:"파일을 등록해주세요",excelNoMemberUploadFile:"",reason:""}},created(){this.getGetNomemberList()},computed:{...(0,A.rn)("gdv-app",["srvyRegNo","pwdUrl"]),...(0,A.Se)("global",["isLoading"])},methods:{...(0,A.nv)("global",["showLoading","hideLoading","showSuccess","showError"]),getGetNomemberList(){this.showLoading(),this.$apis.survey.getGetNomemberList(this.srvyRegNo,this.option,this.page,this.pInput).then((t=>{f.log(t),this.table1=t.data.response.targetListOut,this.table1.forEach((t=>{t.encpyId=window.location.protocol+"//"+window.location.host+"/mid/0107040000?idNo="+t.encpyId+"&gbn=3"})),this.cnt=t.data.response.targetCntOut})).catch((t=>{f.log(t)})).finally((()=>{this.hideLoading()}))},putSetTargetSmsState(t,e){t=encodeURIComponent(t),this.showLoading(),this.$apis.survey.putSetTargetSmsState(this.srvyRegNo,t,e).then((t=>{f.log(t),this.getGetNomemberList()})).catch((t=>{f.log(t)})).finally((()=>{this.hideLoading()}))},getGetTargetAllcheck(){this.showLoading(),this.$apis.survey.getGetTargetAllcheck(this.srvyRegNo).then((t=>{f.log(t),this.getGetNomemberList()})).catch((t=>{f.log(t)})).finally((()=>{this.hideLoading()}))},getGetTargetAlldischeck(){this.showLoading(),this.$apis.survey.getGetTargetAlldischeck(this.srvyRegNo).then((t=>{f.log(t),this.getGetNomemberList()})).catch((t=>{f.log(t)})).finally((()=>{this.hideLoading()}))},deleteDeleteTarget(t){this.showLoading(),this.$apis.survey.deleteDeleteTarget(this.srvyRegNo,t).then((t=>{f.log(t),this.getGetNomemberList()})).catch((t=>{f.log(t)})).finally((()=>{this.hideLoading()}))},getSetTarget(){this.showLoading(),this.$apis.survey.getSetTarget(this.table1).then((t=>{f.log(t),this.getGetNomemberList()})).catch((t=>{f.log(t)})).finally((()=>{this.hideLoading()}))},setFlag(t){""!==t.trprId&&(t.flag="U")},onClickNoMemberUpload(){const t=document.getElementById("fileNoMemberUpload");t.click()},selectFile(t){this.excelNoMemberUploadFile=t.target.files[0],this.excelNoMemberUpload=t.target.files[0].name},postPutUploadNomemberFile(){const t=new FormData;t.append("srvyRegNo",this.srvyRegNo),t.append("file",this.excelNoMemberUploadFile),this.showLoading(),this.$apis.survey.postPutUploadNomemberFile(t).then((t=>{f.log(t),document.getElementById("fileNoMemberUpload").value=null,this.excelNoMemberUpload="파일을 등록해주세요",this.getGetNomemberList()})).catch((t=>{document.getElementById("fileNoMemberUpload").value=null,f.error(t)})).finally((()=>{this.hideLoading()}))},excelNomemberDownload(){const t=new(v().Workbook),e=t.addWorksheet("sheet");e.columns=[{header:"아이디",key:"trprId",width:10},{header:"이름",key:"trprNm",width:10},{header:"전화번호",key:"mblTelno",width:10},{header:"설문 참여여부",key:"quExeAt",width:10}],this.table1.forEach((t=>{e.addRow(t)})),t.xlsx.writeBuffer().then((t=>{const e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="비회원_리스트.xlsx",a.click(),window.URL.revokeObjectURL(s)}))},getGetSmsDown(){""!==this.reason?(this.showLoading(),this.$apis.survey.getGetSmsDown(this.srvyRegNo,this.reason).then((t=>{f.log(t)})).catch((t=>{f.log(t)})).finally((()=>{this.hideLoading()})),this.excelNomemberDownload()):this.showSuccess("다운로드 사유를 입력해주세요.")},searchList(){"00"!==this.option&&this.pInput.length<1?this.showSuccess("검색어는 1글자 이상 입력해주세요."):(this.page=1,this.getGetNomemberList())},goOutSurv(){window.open(this.pwdUrl,"_blank")},goGetNomemSurv(t){f.log2(t),window.open(t.encpyId,"_blank")}}},w=b,x=s(1001),y=(0,x.Z)(w,u,p,!1,null,null,null),C=y.exports},99223:function(t,e,s){s.d(e,{Z:function(){return i}});var a=s(96669),i=a.Z.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})},92648:function(t,e,s){s.d(e,{Z:function(){return n}});var a=s(89780),i=s(67678);const o=(0,i.Z)(a.Z);var n=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...a.Z.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,s=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(s,e)+"px"},genInput(){const t=a.Z.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){a.Z.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},88039:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEHSURBVHgBzVWLDYIwEH0aBnAD2UCYwDqCE8gIjuIG6gS6gTiBOoF1At1Ar1CCaU44aEl8yQullPfurr8RaiTECfpDW7K4EN+evBNjV3hEVMSTdc/RD7HV0cQFnEyUjWALP+zAZBIxAzfEGeSie9vO7HOFsiJFJpyBEVeQ4ey8Z45JGiE8MuIUZZDJGMPgUTW4DG6QQ7cN4AzWCIihSvS/BjE6nldSgxjluja79Ikf546PgRFXjuFB8qPEQIGPNrH0Nng1fGudD4mBBr+hTF+OAAYmg6VjUvW1QnrYXYkp6onO0Vy6zgawgkd0RIQ6EgX/W63C3O0Icem7NJrFpY+vDELBVMXMGz6U51U2+rYZpAAAAABJRU5ErkJggg=="},58963:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI+SURBVHgB7ZjhVcIwEMevPr/bDawTUCewTgAbiBOIE9gNhAnACWSDsgE4QWAC2OC8vB5y5JXSa5vie/p77whN0/TfXHq5FOCXE0ALIGJERUwWkq2tBUGwhktCokKyN7ItFrMke4JLQDdOyAxWw/AIdyZu4AjIyF7IYraEj03nIu1NHJeOzrRPHZEh+IRHa8/QORfz6MYlIlPwBbtuz9QRZrBk3okH23obRep4LAREXOe6XLIU18p5m4APxCjIG8+k+3g0pUv73C4UdSPNfa9Az078v+VyQYE5JVvZUpy/tz9UJ69RubiOwE7RCNxwGYMSPH6zl6BAI3DFZVhjost59wUKNAJncJh/71Uv4je+z4cLbRJRWSBP9AkfxjIWlhCRZXB4MV7BN5hnKS6Z06aIFLqAg7NRChxDTdRhhueQjW8TxWU32GXKtUesLlVcbPnURgAvgTpg6O8d2Yc4NSDL+MES8M2pESxoZ+ftrGBEM6+uryrwjFADbYB5PjiUrtEKLBGaQBOog6nz1FsWZ+oI5D5j0V//VLvrCh3ZFWPoVNuVIYFmROL/5lSjUoGOuDXZMxzE9aCZyJ8Mx+aRoBWI+d5Bpkl2LV7xmjwX7WybCPT0uFxBXTBP1eXau8SWNj2i3zk0wZdI0V8KTWlbJB5vYfvQBm2KxONtqHoL4V0kij02tE0bIrFgj32Ks4HaxYYZ6vgR8lQ+ZjNUt1N0E3FZP8Sco2AktRiskMk0/gSM+VeuB9Bhl7ax88Xhn7/JN1Z5GxgXtpGuAAAAAElFTkSuQmCC"}}]);