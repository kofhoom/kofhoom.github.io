"use strict";(self["webpackChunkgdv_frontend"]=self["webpackChunkgdv_frontend"]||[]).push([[3299],{83299:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var i=e(64562),a=e(34145),n=e(69228),l=e(25372),r=e(9449),o=e(89780),c=e(96313),h=function(){var t=this,s=t._self._c;return s("div",{staticClass:"survy-agree-box type2"},[s("div",{staticClass:"survy-member-content",staticStyle:{width:"100%"}},[s("div",{staticClass:"tap-info-content masters active",staticStyle:{width:"100%",display:"none","margin-top":"0"}},[s("div",{staticClass:"survy-member-content",staticStyle:{width:"100%"}},[s("div",{staticClass:"tap-info-content",staticStyle:{width:"100%"}},[t._m(0),s("div",{staticClass:"freebies-wrap"},[s("p",{staticClass:"freebies-title"},[t._v("★ 새 사은품을 추가하세요")]),s("div",{staticClass:"freebies-content"},[s("ul",{staticClass:"freebies-list-ul d-flex"},[s(n.Z,{staticClass:"common-modal-wrap",attrs:{transition:"scale-transition","max-width":"764"},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[s("li",t._g({staticClass:"freebies-list-li common-hover"},i),[s("img",{staticClass:"freebies-add-icon",attrs:{src:e(8621),alt:"새 사은품 추가"}}),s("div",{staticClass:"freebies-li-title"},[t._v(" 새 사은품 추가 ")])])]}},{key:"default",fn:function(n){return[s(a.Z,[s(c.Z,{staticClass:"common-modal-header",attrs:{color:"#004ebc",dark:""}},[t._v(" 새 사은품 추가 "),s(i.Z,{staticClass:"mla",attrs:{text:"",loading:t.isLoading},on:{click:function(t){n.value=!1}}},[s("img",{attrs:{src:e(21856),alt:"닫기 버튼 이미지"}})])],1),s("main",{staticClass:"p20-40"},[s("h3",{staticClass:"total-info-subtitle d-flex mt0"},[s("span",{staticClass:"info-middot"},[t._v("·")]),t._v(" 사은품 정보 ")]),s("h3",{staticClass:"total-info-subtitle d-flex mt20"},[t._v(" 사은품 정보 ")]),s(o.Z,{staticClass:"font mt10",attrs:{outlined:"",loading:t.isLoading,placeholder:"사은품명을 입력하세요",dense:"",rules:t.cnRule},model:{value:t.pCn,callback:function(s){t.pCn=s},expression:"pCn"}}),s("h3",{staticClass:"total-info-subtitle d-flex mt20"},[t._v(" 개수 ")]),s(o.Z,{staticClass:"font mt10",attrs:{outlined:"",placeholder:"개수를 입력하세요 (숫자만 입력)",dense:"",loading:t.isLoading,rules:t.rule},model:{value:t.pQy,callback:function(s){t.pQy=s},expression:"pQy"}}),s("h3",{staticClass:"total-info-subtitle d-flex mt20"},[t._v(" 가격 ")]),s(o.Z,{staticClass:"font mt10",attrs:{outlined:"",placeholder:"가격을 입력하세요 (숫자만 입력)",loading:t.isLoading,dense:"",rules:t.rule},model:{value:t.untpr,callback:function(s){t.untpr=s},expression:"untpr"}}),s("div",{staticClass:"vue-bt-wrap align-right mt22"},[s(i.Z,{staticClass:"vue-bt",attrs:{elevation:"0",loading:t.isLoading},on:{click:function(t){n.value=!1}}},[t._v("취소")]),s(i.Z,{staticClass:"vue-bt",attrs:{elevation:"0",loading:t.isLoading},on:{click:function(s){return t.putPutPrst(n)}}},[t._v("저장")])],1)],1)],1)]}}])}),t._l(t.presentList,(function(a,n){return s("li",{key:n,staticClass:"freebies-list-li common-hover"},[s("img",{staticClass:"freebies-del-icon mla",attrs:{src:e(81434),alt:"사은품 리스트삭제"},on:{click:function(s){return t.deleteDeletePrst(a.frgft_sn)}}}),s("div",{staticClass:"freebies-list-info"},[s("p",{staticClass:"freebies-list-main-title mb8i"},[s("span",[t._v(t._s(a.frgft_nm))])]),s("p",{staticClass:"freebies-list-quantity mb8i"},[s("span",{staticClass:"title"},[t._v("수량 :")]),s("span",{staticClass:"list-counts"},[t._v(t._s(a.cnt))])]),s("p",{staticClass:"freebies-list-unit-price"},[s("span",{staticClass:"title"},[t._v("단가 :")]),s("span",{staticClass:"list-counts"},[t._v(t._s(a.untpr))]),s("span",{staticClass:"title"},[t._v("원")])])]),s(i.Z,{staticClass:"mt14",staticStyle:{color:"#fff"},attrs:{elevation:"0",width:"53px",height:"40px",color:"#177EE7",loading:t.isLoading},on:{click:function(s){return t.putPutCastPrst(a.frgft_sn)}}},[t._v("추첨 ")])],1)}))],2)])])])]),s("div",{staticClass:"survy-member-content mt63",staticStyle:{width:"100%"}},[s("div",{staticClass:"tap-info-content",staticStyle:{width:"100%"}},[t._m(1),s("div",{staticClass:"d-flex justify-lg-space-between mt30 mb10"},[s("div",{staticClass:"button-textarea-box mla"},[s(i.Z,{staticStyle:{color:"#fff"},attrs:{elevation:"0",height:"32px",color:"#177EE7",loading:t.isLoading},on:{click:t.excelRewardDownload}},[s("img",{staticClass:"mr5",attrs:{src:e(12356),alt:"다운로드아이콘"}}),t._v(" 현재 리스트 다운로드 ")])],1)]),s("div",{staticStyle:{width:"100%"}},[t.isLoading?t._e():s(r.Z,{staticClass:"common-research-table",staticStyle:{width:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center"},[t._v("아이디")]),s("th",{staticClass:"text-center"},[t._v("이름 / 상호")]),s("th",{staticClass:"text-center"},[t._v("전화번호")]),s("th",{staticClass:"text-center"},[t._v("당첨 내역")]),s("th",{staticClass:"text-center"},[t._v("삭제")])])]),s("tbody",t._l(t.winnerList,(function(i,a){return s("tr",{key:a},[s("td",[t._v(t._s(i.trprId))]),s("td",[t._v(t._s(i.trprNm))]),s("td",[t._v(t._s(i.mblTelno))]),s("td",[t._v(t._s(i.cn))]),s("td",{on:{click:function(s){return t.deleteDeletePrstTarget(i)}}},[s("img",{staticStyle:{position:"relative",top:"7px"},attrs:{src:e(23757),alt:""}})])])})),0)]},proxy:!0}],null,!1,144455553)})],1),s("div",{staticClass:"pagination-box text-center mt40"},[s(l.Z,{attrs:{length:t.cnt,loading:t.isLoading},model:{value:t.page,callback:function(s){t.page=s},expression:"page"}})],1)])])])])])},d=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"tap-wrap text-center",staticStyle:{width:"100%"}},[s("p",{staticClass:"tap-info-content-title"},[t._v("사은품")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"tap-wrap text-center",staticStyle:{width:"100%"}},[s("p",{staticClass:"tap-info-content-title"},[t._v("당첨자 목록")]),s("p",{staticClass:"tap-info-content-sub-title"},[t._v(" 당첨자 리스트를 보여줍니다. ")])])}],u=e(74295),g=e.n(u),p=e(20629),A=e(25108),f={props:{isReload:{type:Boolean,required:!0,default:!1}},data(){const t=this.$createElement;return{information:[{"이름":"tests","전화번호":"010-0000-0000","이메일":"test@test.com","당첨내역":"커피","수령일":"2022-09-13","삭제":t("img",{attrs:{src:"require('@/assets/images/survey/survy_del.png')",alt:""},style:"position: relative; top: 7px"})}],page:1,presentList:[],winnerList:[],pCn:"",pQy:"",untpr:"",cnRule:[t=>!!t||"필수 입력사항입니다.",t=>!(t&&t.length>=50)||"사은품 명은 50자 이상 입력할 수 없습니다."],rule:[t=>!!t||"필수 입력사항입니다.",t=>!(t&&t.length>=8)||"8자 이상 입력할 수 없습니다.",t=>/^[0-9]*$/.test(t)||"숫자만 입력 가능합니다."],cnt:1}},created(){this.init()},watch:{isReload(t){t&&this.init()}},computed:{...(0,p.rn)("gdv-app",["srvyRegNo"]),...(0,p.Se)("global",["isLoading"])},methods:{...(0,p.nv)("global",["showLoading","hideLoading","showSuccess","showError"]),init(){this.getGetPrstList()},getGetPrstList(){this.showLoading(),this.$apis.survey.getGetPrstList(this.srvyRegNo,this.page).then((t=>{A.log(t),this.presentList=t.data.response.presentList,this.winnerList=t.data.response.winnerList,this.totalCnt=t.data.response.winnerCnt,this.totalCnt%10>0&&(this.cnt=this.totalCnt/10+1),this.totalCnt%10===0&&(this.cnt=this.totalCnt/10),this.cnt=Math.floor(this.cnt)})).catch((t=>{A.log(t)})).finally((()=>{this.hideLoading()}))},putPutCastPrst(t){this.showLoading(),this.$apis.survey.putPutCastPrst(this.srvyRegNo,t).then((t=>{A.log(t),this.getGetPrstList()})).catch((t=>{A.log(t)})).finally((()=>{this.hideLoading()}))},deleteDeletePrst(t){this.showLoading(),this.$apis.survey.deleteDeletePrst(this.srvyRegNo,t).then((t=>{A.log(t),this.getGetPrstList()})).catch((t=>{A.log(t)})).finally((()=>{this.hideLoading()}))},deleteDeletePrstTarget(t){this.showLoading(),this.$apis.survey.deleteDeletePrstTarget(this.srvyRegNo,t.frgftSn,t.trprId).then((t=>{A.log(t),this.getGetPrstList()})).catch((t=>{A.log(t)})).finally((()=>{this.hideLoading()}))},excelRewardDownload(){const t=new(g().Workbook),s=t.addWorksheet("sheet");s.columns=[{header:"이름",key:"trprNm",width:10},{header:"전화번호",key:"mblTelno",width:10},{header:"이메일",key:"emlAddr",width:10},{header:"당첨 내역",key:"cn",width:10},{header:"수령일",key:"rcptYn",width:10}],this.winnerList.forEach((t=>{s.addRow(t)})),t.xlsx.writeBuffer().then((t=>{const s=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),e=window.URL.createObjectURL(s),i=document.createElement("a");i.href=e,i.download="사은품당첨_리스트.xlsx",i.click(),window.URL.revokeObjectURL(e)}))},putPutPrst(t){if(""!==this.pCn&&""!==this.pQy&&""!==this.untpr){if(this.pCn.length>50)return this.showError({message:"사은품 명은 50자 이상 입력할 수 없습니다."}),t.value=!0,!1;if(this.pQy.length>8||this.untpr.length>8)return this.showError({message:" 수량과 단가는 8자 이상 입력할 수 없습니다."}),!1;if(null==this.pQy.match(/^[0-9]+$/))return this.showError({message:" 수량은 숫자만 입력 가능합니다."}),t.value=!0,!1;if(null==this.untpr.match(/^[0-9]+$/))return this.showError({message:" 단가는 숫자만 입력 가능합니다."}),t.value=!0,!1;this.showLoading(),this.$apis.survey.putPutPrst(this.srvyRegNo,this.pCn,this.pQy,this.untpr).then((s=>{A.log(s),this.getGetPrstList(),t.value=!1})).catch((t=>{A.log(t)})).finally((()=>{this.hideLoading()}))}else this.showError({message:"값을 전부 입력해주세요"})}}},v=f,m=e(1001),C=(0,m.Z)(v,h,d,!1,null,null,null),w=C.exports},8621:function(t){t.exports="data:image/png;base64,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"},81434:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABsSURBVHgB7ZQBCoAgEASXXrL//4RP6SlmcESElaUrog4cgt7egnoHTIaFIZytJXMPdoEPsb4IaTneNMnwJLwzScn5bfJ0lm0S28uCl4JFi8dMPhVf0ACE8IoI4SMTwm9KiBvNocKokA67SUdsqodCP5sbqnsAAAAASUVORK5CYII="}}]);