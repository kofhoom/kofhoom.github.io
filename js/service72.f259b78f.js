"use strict";(self["webpackChunkgdv_frontend"]=self["webpackChunkgdv_frontend"]||[]).push([[6219],{89973:function(t,s,a){a.r(s),a.d(s,{default:function(){return w}});var e=a(64562),i=a(34145),l=a(44127),o=a(54525),n=a(66098),r=a(25372),c=a(78419),d=a(56379),v=a(85166),u=a(89780),h=function(){var t=this,s=t._self._c;return 0===t.survey?s("div",[s("div",{staticClass:"total-info-content-wrap"},[s("div",{staticClass:"total-header-wrap"},[s("p",{staticClass:"total-header-title"},[t._v("설문 참여")]),s("InfoNavigation")],1),s("div",{staticClass:"total-info-content-wrap"},[s("div",{attrs:{id:"div-total-info-header"}}),s("div",{staticClass:"total-info-section"},[s("div",{staticClass:"total-radio-box survey-900 mt30 mb19"},[s("h6",{staticClass:"total-radio-box-title"},[t._v("정렬조건")]),s(d.Z,{attrs:{loading:t.isLoading,"hide-details":""},model:{value:t.radioGroup,callback:function(s){t.radioGroup=s},expression:"radioGroup"}},[s(c.Z,{staticClass:"radio-label",staticStyle:{width:"5rem !important"},attrs:{label:"최신순",color:"#0057a8",value:"01"}}),s(c.Z,{staticClass:"radio-label",staticStyle:{width:"5rem !important"},attrs:{label:"제목순",color:"#0057a8",value:"02"}}),s(c.Z,{staticClass:"radio-label",staticStyle:{width:"7rem !important"},attrs:{label:"설문대상자",color:"#0057a8",value:"03"}})],1)],1),s("div",{staticClass:"total-info-section"},[s("div",{staticClass:"search-wrap-main-box",staticStyle:{padding:"31px 20px 31px 29px"}},[s("form",{staticClass:"center-search-wrap"},[s(e.Z,{staticClass:"vue-bt-small blue mr10",staticStyle:{"background-color":"#0057a8 !important","margin-right":"10px !important"},attrs:{elevation:"0",height:"40",disabled:""}},[t._v("조회조건")]),s(v.Z,{staticClass:"center-search-select w180 ml10 mr10",attrs:{items:t.items4,"item-text":"name","item-value":"value",border:"none",height:"40",label:"전체",name:"전체",id:"전체",solo:"","hide-details":""},on:{change:function(s){t.inqVal="00"===t.inqSlctn?"":t.inqVal}},model:{value:t.inqSlctn,callback:function(s){t.inqSlctn=s},expression:"inqSlctn"}}),s("label",{attrs:{for:"검색"}}),s(u.Z,{staticClass:"center-search-input",attrs:{label:"",name:"검색",id:"검색",placeholder:"검색조건 선택 후 검색어를 입력해주세요",outlined:"","hide-details":"",dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.searchList.apply(null,arguments)}},model:{value:t.inqVal,callback:function(s){t.inqVal=s},expression:"inqVal"}}),s(e.Z,{staticClass:"vue-bt-small blue ml10",staticStyle:{"background-color":"#0057a8 !important","margin-left":"10px !important"},attrs:{elevation:"0",height:"40"},on:{click:t.searchList}},[t._v("검색")])],1)])]),t._l(t.list,(function(r){return s("div",{key:r.srvyRegNo,staticClass:"survy-list-box survy-list-900",on:{click:function(s){t.setSrvyRegNo(r.srvyRegNo),t.moveTabIndex(1)}}},[s("div",{staticClass:"button-wrap-box text-right mb40",staticStyle:{width:"100%"},attrs:{loading:t.isLoading}}),s(i.Z,{staticClass:"mx-auto d-flex survey-list",staticStyle:{height:"auto !important"},attrs:{loading:t.isLoading}},[s(o.Z,{attrs:{"three-line":""}},[s(n.km,[s(n.V9,{staticClass:"text-h5 mb-1 d-flex align-center fd-c-900"},[t._v(" "+t._s(r.srvyTtl)+" "),"sur004002"!=r.srvyRsltRlsCd?s(e.Z,{staticClass:"ml-auto survy-bt-900",staticStyle:{color:"#fff"},attrs:{color:"#177EE7",width:"113px",loading:t.isLoading,height:"40px"},on:{click:[function(s){t.setSrvyRegNo(r.srvyRegNo),t.moveTabIndex(2)},function(t){t.stopPropagation()}]}},[t._v("설문결과 보기")]):t._e()],1),s(n.oZ,{staticClass:"pl-11"},[t._v(t._s(r.srvyGoal))]),s("div",{staticClass:"chip-box pl-11 d-flex"},[null!=r.srvyDmnCd?s(l.Z,{staticClass:"ma-2",attrs:{color:"primary"}},[s("p",[t._v(t._s(r.srvyDmnNm))])]):t._e(),""!=r.srvyTrpr?s(l.Z,{staticClass:"subay ma-2",attrs:{color:"primary"}},[s("p",[t._v(t._s(r.srvyTrpr))])]):t._e(),s(l.Z,{staticStyle:{color:"#fff"},attrs:{color:"#0057A8"}},[t._v(t._s(r.srvyPrcsmngNm)+" ")]),""!=r.frgftCn?s(l.Z,{staticClass:"ma-2",attrs:{color:"#81C1E1",loading:t.isLoading}},[s("img",{attrs:{src:a(71915),alt:""}})]):t._e()],1),s("div",{staticClass:"survy-dates-box d-flex align-center pl-11"},[s("div",{staticClass:"d-flex"},[s("span",{staticClass:"survy-dates-title"},[t._v("설문기간")]),s("div",[s("span",{staticClass:"survy-dates-title-date ml-2 mr-2"},[t._v(t._s(r.gigan))])])]),s("span",{staticClass:"ml-2 mr-2"},[t._v("/")]),s("div",[s("span",{staticClass:"survy-dates-names"},[t._v(" "+t._s(r.srvyWrtrNm)+" ")])])])],1)],1)],1)],1)}))],2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCnt>0,expression:"totalCnt > 0"}],staticClass:"pagination-box text-center mt92"},[s(r.Z,{attrs:{loading:t.isLoading,length:t.cnt,"total-visible":"10"},on:{input:t.getSurveyList},model:{value:t.page,callback:function(s){t.page=s},expression:"page"}})],1)])]):1===t.survey?s("SurAgreeTab",{on:{moveTabIndex:t.moveTabIndex}}):2===t.survey?s("SurveyTab",{on:{moveTabIndex:t.moveTabIndex}}):t._e()},g=[],p=a(97234),m=a(87882),y=a(14364),b=a(20629),C=a(25108),f={components:{SurveyTab:p["default"],SurAgreeTab:m["default"],InfoNavigation:y["default"]},data(){return{radioGroup:"01",pFind:"00",items:[{name:"전체",value:"00"},{name:"제목",value:"01"},{name:"목적",value:"02"}],page:1,pInput:"",list:[],resultCheck:"01",survey:0,cnt:1,totalCnt:0}},computed:{...(0,b.Se)("global",["getUserInfo","isLoading"]),...(0,b.rn)("gdv-app",["userResultCheck","surveyNo","gbn"])},methods:{...(0,b.nv)("global",["showLoading","hideLoading","showSuccess","showError"]),...(0,b.nv)("gdv-app",["setGbn","setSrvyRegNo","setRck","setUserResultCheck","setSurveyNo"]),getSurveyList(){this.showLoading(),this.$apis.survey.getGetSurvList(this.pFind,this.radioGroup,this.page,this.pInput).then((t=>{C.log(t.data.response),this.list=t.data.response.list,this.totalCnt=this.list[0]?.page??0,this.totalCnt%10>0&&(this.cnt=this.totalCnt/10+1),this.totalCnt%10===0&&(this.cnt=this.totalCnt/10),this.cnt=Math.floor(this.cnt)})).catch((t=>{C.log(t)})).finally((()=>{this.hideLoading()}))},getGbn(t){"com003001"===t?this.setGbn("3"):this.setGbn("4")},getSurv(t){this.showLoading(),this.setSrvyRegNo(t),this.$apis.survey.getGetSurvMv().then((t=>{C.log(t)})).catch((t=>{C.log(t)})).finally((()=>{this.hideLoading()}))},getSurvResult(t){this.showLoading(),this.$apis.survey.getGetSurvResult(t,this.userResultCheck).then((t=>{C.log(t)})).catch((t=>{C.log(t)})).finally((()=>{this.hideLoading()}))},searchList(){""===this.pInput?(this.page=1,this.getSurveyList()):""===this.pInput.replace(/\s/g,"")?this.showError({message:"검색어를 입력하세요."}):(this.page=1,this.getSurveyList())},async init(){this.showLoading(),this.getGbn(this.getUserInfo().stusCd),this.setRck("01"),this.setUserResultCheck("01"),this.setSurveyNo(-1),await this.getSurveyList()},moveTabIndex(t){this.survey=t}},async created(){await this.init();const{type:t,srvyRegno:s}=this.$route.query;if(s)switch(t){case"1":this.setSrvyRegNo(s),this.moveTabIndex(1);break;default:this.moveTabIndex(0);break}}},A=f,x=a(1001),S=(0,x.Z)(A,h,g,!1,null,"848917c0",null),w=S.exports},71915:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACXSURBVHgB7ZLRDYAgDESrkziCI7iBjuAIbuAIjNQRGMFREGIvIUSlfGhCwksarb16KZQowTk3+GB3cfjY6YFQE03Ahl7KIUL8HEb2RocaRyasMQCz5JvkJtIY+bZJvqBJY8DRyKsEppp8jC911QTxHaRwpjbQ33Sqc4PYE54lPT19TP0G9dPhRbMZJVsEbduiZtAMmoGCE+R+Bq8Gt8qGAAAAAElFTkSuQmCC"}}]);