"use strict";(self["webpackChunkgdv_frontend"]=self["webpackChunkgdv_frontend"]||[]).push([[9353,1119],{58123:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var i=s(64562),a=s(63486),r=s(85166),l=s(89780),n=s(92648),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"total-info-content-wrap"},[e("div",{staticClass:"total-header-wrap"},[e("img",{staticClass:"info-simbol",attrs:{src:s(54967),alt:"심볼"}}),e("p",{staticClass:"total-header-title"},[t._v("권한그룹관리")])]),e("div",{staticClass:"total-info-section"},[e("div",{staticClass:"total-info-content-wrap"},[e("div",{attrs:{id:"div-total-info-header"}}),e("div",{staticClass:"total-info-section"},[t._m(0),e("main",{staticClass:"permission-wrap mt35"},[e("section",{staticClass:"permission-group",staticStyle:{"max-width":"calc(100% - 310px)","margin-right":"10px"}},[e("h3",{staticClass:"total-info-subtitle d-flex ai-c mt0"},[e("span",{staticClass:"info-middot mr10"},[t._v("권한그룹")]),e("div",{staticClass:"table-bt-wrap"},[e("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.tot)+"건")])])]),e("tree-data-table",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],ref:"treeTable",staticClass:"mt20",attrs:{rowHeaders:["checkbox"],headers:t.headers,items:t.items,height:"862px",fixedHeader:!0},on:{"dblclick:row":t.dblclick,"check:row":t.check_Row}})],1),e("section",{staticClass:"permission-group-details ml10",staticStyle:{"min-width":"300px","max-width":"300px"}},[e("h3",{staticClass:"total-info-subtitle d-flex ai-c mt0"},[e("span",{staticClass:"info-middot mr10"},[t._v("권한그룹 "+t._s(t.isNew?"신규":"상세"))])]),e("div",{staticClass:"labels-wrap mt20 p0-15"},[e("div",{staticClass:"d-flex fd-c ai-c m15-0"},[t._m(1),e(l.Z,{staticClass:"mt5",staticStyle:{width:"100%"},attrs:{label:"",maxlength:"50",loading:t.isLoading,placeholder:t.isNew?"신규 그룹명을 입력해주세요.":"",outlined:"",dense:"",disabled:t.readonlyYn,"hide-details":""},model:{value:t.item.authrtGrupNm,callback:function(e){t.$set(t.item,"authrtGrupNm",e)},expression:"item.authrtGrupNm"}})],1),e("div",{staticClass:"d-flex fd-c ai-c m15-0"},[t._m(2),e(l.Z,{staticClass:"mt5",staticStyle:{width:"100%"},attrs:{label:"",maxlength:"10",placeholder:t.isNew?"10자리 숫자를 입력해주세요.":"",outlined:"",loading:t.isLoading,dense:"","hide-details":"",disabled:t.disabledYn},on:{change:function(e){t.item.authrtGrupId=t.item.authrtGrupId.replace(/[^0-9.]/g,"")}},model:{value:t.item.authrtGrupId,callback:function(e){t.$set(t.item,"authrtGrupId",e)},expression:"item.authrtGrupId"}})],1),e("div",{staticClass:"d-flex fd-c ai-c m15-0"},[t._m(3),e(r.Z,{staticClass:"mt5",staticStyle:{width:"100%"},attrs:{items:t.items1,loading:t.isLoading,"item-text":"name","item-value":"value","hide-details":"auto",dense:"",outlined:"",disabled:""},model:{value:t.item.authrtGrupClssCd,callback:function(e){t.$set(t.item,"authrtGrupClssCd",e)},expression:"item.authrtGrupClssCd"}})],1),e("div",{staticClass:"d-flex fd-c ai-c m15-0"},[t._m(4),e(l.Z,{staticClass:"mt5",staticStyle:{width:"100%"},attrs:{loading:t.isLoading,label:"",maxlength:"10",placeholder:"",outlined:"",dense:"","hide-details":"",disabled:""},on:{change:function(e){t.item.authrtGrupId=t.item.authrtGrupId.replace(/[^0-9.]/g,"")}},model:{value:t.item.upAuthrtGrupId,callback:function(e){t.$set(t.item,"upAuthrtGrupId",e)},expression:"item.upAuthrtGrupId"}})],1),e("div",{staticClass:"d-flex fd-c ai-c m15-0"},[t._m(5),e(l.Z,{staticClass:"mt5",staticStyle:{width:"100%"},attrs:{label:"",loading:t.isLoading,maxlength:"5",placeholder:t.isNew?"저장 시 자동으로 입력됩니다.":"",outlined:"",dense:"","hide-details":"",disabled:t.readonlyYn||t.isNew},on:{change:function(e){t.item.sortSeq=parseInt(t.item.sortSeq.replace(/[^0-9.]/g,""))||1}},model:{value:t.item.sortSeq,callback:function(e){t.$set(t.item,"sortSeq",e)},expression:"item.sortSeq"}})],1),e("div",{staticClass:"d-flex justify-center fd-c ai-c m15-0"},[e("p",{staticClass:"labels guide"},[t._v("사용여부")]),e(a.Z,{staticClass:"mt5",staticStyle:{width:"100%"},attrs:{label:"",loading:t.isLoading,"true-value":"Y","false-value":"N",outlined:"",dense:"","hide-details":"",disabled:t.readonlyYn},model:{value:t.item.useYn,callback:function(e){t.$set(t.item,"useYn",e)},expression:"item.useYn"}})],1),e("div",{staticClass:"d-flex fd-c ai-c m15-0"},[e("p",{staticClass:"labels guide"},[t._v("권한 그룹 설명")]),e(n.Z,{staticClass:"mt5",staticStyle:{width:"100%"},attrs:{label:"",loading:t.isLoading,placeholder:"",outlined:"",maxlength:"100",dense:"","hide-details":"",disabled:t.readonlyYn},model:{value:t.item.authrtGrupExpnt,callback:function(e){t.$set(t.item,"authrtGrupExpnt",e)},expression:"item.authrtGrupExpnt"}})],1)])])]),e("div",{staticClass:"vue-bt-wrap align-right mt63"},[e(i.Z,{staticClass:"vue-bt",attrs:{loading:t.isLoading},on:{click:t.newRow}},[t._v("신규")]),e(i.Z,{staticClass:"vue-bt",attrs:{loading:t.isLoading,disabled:t.readonlyYn,elevation:"0"},on:{click:function(e){return t.postAuthorityGroupListSave("S")}}},[t._v("저장")]),e(i.Z,{staticClass:"vue-bt button-type-red",attrs:{loading:t.isLoading,elevation:"0"},on:{click:function(e){return t.postAuthorityGroupListSave("D")}}},[t._v("삭제")])],1)])])])])},o=[function(){var t=this,e=t._self._c;return e("h3",{staticClass:"total-info-subtitle d-flex jc-sb ai-c"},[e("span",{staticClass:"table-ment",staticStyle:{"line-height":"1.5"}},[t._v(" * 권한그룹 신규 생성 시 상위권한그룹을 먼저 선택 후 신규 버튼을 눌러주세요."),e("br"),t._v(" * 시스템관리자 하위에는 권한을 생성할 수 없습니다."),e("br"),t._v(" * 신분, 소속 권한은 하위의 하위 권한 생성이 불가합니다.(업무권한만 가능)"),e("br")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"labels guide"},[t._v("권한 그룹 명 "),e("span",{staticClass:"require-star"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"labels guide"},[t._v("권한 그룹 아이디 "),e("span",{staticClass:"require-star"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"labels guide"},[t._v("권한 구분 "),e("span",{staticClass:"require-star"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"labels guide"},[t._v("상위 그룹 아이디 "),e("span",{staticClass:"require-star"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"labels guide"},[t._v("정렬순서 "),e("span",{staticClass:"require-star"},[t._v("*")])])}],h=(s(57658),s(50091)),d=s(20629),c=s(50361),p=s.n(c),m=s(25108),g={components:{TreeDataTable:h["default"]},computed:{...(0,d.Se)("global",["isLoading"]),disabledYn(){return!this.authrtGrupId||!this.isNew},readonlyYn(){return!this.authrtGrupId||!this.isNew&&this.item?.authrtGrupLvl<2}},data(){return{headers:[{title:"그룹명",readonly:!0,column:"authrtGrupNm",width:"200px",align:"center"},{title:"그룹아이디",readonly:!0,column:"authrtGrupId",width:"200px",align:"center"},{title:"상위그룹아이디",readonly:!0,column:"upAuthrtGrupId",width:"200px",align:"center"},{title:"권한그룹레벨",readonly:!0,column:"authrtGrupLvl",width:"200px",align:"center"},{title:"정렬순서",readonly:!0,column:"sortSeq",width:"200px",align:"center"},{title:"사용여부",readonly:!0,column:"useYn",width:"90px",align:"center",renderer:{type:"checkbox"}}],items:[],list:[],item:{},items1:[],selected:[],authrtGrupId:"",upAuthrtGrupId:"",authrtGrupLvl:"",tot:0,isNew:!1}},created(){this.$apis.common.getSoCodeList("com002").then((t=>{this.items1=t.data.response.list})),this.getAuthorityGroupDetailList()},methods:{...(0,d.nv)("global",["showLoading","hideLoading","showSuccess","showError","showWarning","showToast"]),getAuthorityGroupDetailList(){this.authrtGrupId="",this.upAuthrtGrupId="",this.authrtGrupLvl="",this.items.splice(0,this.items?.length),this.item={},this.showLoading(),this.$apis.common.getAuthorityGroupDetailList().then((t=>{const e=t?.data.response.list;this.tot=e.length||0,this.list=e,e?.length&&(e.forEach(((t,s)=>{const i=e.filter((({upAuthrtGrupId:e})=>e===t.authrtGrupId))||[];i&&(e[s].children=i)})),this.items.push(e[0]))})).catch((t=>{m.error(t),this.showError({message:"통신 중 오류가 발생하였습니다."})})).finally((()=>{this.hideLoading(),this.$refs.treeTable.syncTableLayout()}))},postAuthorityGroupListSave(t){let e="",s=!0,i=[];const a=[],r=[];if("D"===t){const t=this.list.filter((({authrtGrupId:t,authrtGrupLvl:e})=>this.selected.includes(t)&&e<2));if(0!==t.length)e="시스템관리자와 신분, 업무, 일반그룹은 삭제가 불가합니다.",s=!1;else if(0===this.selected.length)e="삭제할 데이터가 없습니다.",s=!1;else{if(!confirm("삭제하시겠습니까?"))return!1;i=this.selected}}else{if(10!==this.item.authrtGrupId?.length||10!==this.item.upAuthrtGrupId?.length?(e="그룹아이디는 10자리 숫자로 입력해주세요",s=!1):this.item.sortSeq<1?(e="정렬순서는 0보다 커야 합니다.",s=!1):this.item.authrtGrupNm&&this.item.authrtGrupClssCd||(e="필수 값이 누락되었습니다.",s=!1),s&&!confirm(this.isNew?"신규등록 하겠습니까?":"수정저장 하겠습니까?"))return!1;if(this.isNew)r.push(this.item);else{const t={authrtGrupClssCd:this.item.authrtGrupClssCd,authrtGrupExpnt:this.item.authrtGrupExpnt,authrtGrupId:this.item.authrtGrupId,authrtGrupNm:this.item.authrtGrupNm,sortSeq:this.item.sortSeq,useYn:this.item.useYn,upAuthrtGrupId:this.item.upAuthrtGrupId};a.push(t)}}if(!s)return this.showError({message:e}),!1;this.showLoading(),this.$apis.common.postAuthorityGroupListSave(r,a,i).then((t=>{t?.data.code>"300"?this.showError({message:t?.data.message}):(this.showSuccess("처리가 완료되었습니다."),this.getAuthorityGroupDetailList(),this.isNew=!1)})).catch((t=>{m.error(t),this.showError({message:"통신 중 오류가 발생하였습니다."})})).finally((()=>{this.hideLoading()}))},dblclick(t,e,s,i){if(this.isNew&&!confirm("저장 전 다른 행으로 이동 시 신규로 입력한 내용이 사라집니다. 이동하시겠습니까?"))return!1;this.authrtGrupId=t.authrtGrupId,this.upAuthrtGrupId=t.upAuthrtGrupId,this.authrtGrupLvl=t.authrtGrupLvl,this.isNew=!1,this.item=p()(t)},check_Row(t,e,s,i,a){if(e)this.selected.push(t.authrtGrupId);else for(let r=0;r<this.selected.length;r++)this.selected[r]===t.authrtGrupId&&(this.selected.splice(r,1),r--)},changeRow(t,e,s,i,a,r){m.info("changeRow",t,e,s,i,a,r)},newRow(){if(!this.authrtGrupId)return this.showWarning("상위권한으로 지정할 그룹을 선택 후 신규 생성이 가능합니다."),!1;if(!this.upAuthrtGrupId)return this.showWarning("시스템관리자 하위는 권한을 생성할 수 없습니다."),!1;if(!this.isNew){const t=this.item.authrtGrupClssCd;let e=this.item.authrtGrupNm;this.item={},this.item.authrtGrupClssCd=t,1===this.authrtGrupLvl||"com002002"===t?this.item.upAuthrtGrupId=this.authrtGrupId:(this.item.upAuthrtGrupId=this.upAuthrtGrupId,e=this.items1.find((({value:e})=>e===t))?.name),this.item.useYn="Y",this.authrtGrupId="-",this.showToast(`[${e}]을 상위그룹으로 선택하셨습니다.\n등록할 [${e}]의 하위 권한정보를 입력 후 저장을 눌러주세요.`)}this.isNew=!0}}},f=g,w=s(1001),v=(0,w.Z)(f,u,o,!1,null,null,null),G=v.exports},92648:function(t,e,s){s.d(e,{Z:function(){return l}});var i=s(89780),a=s(67678);const r=(0,a.Z)(i.Z);var l=r.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...i.Z.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,s=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(s,e)+"px"},genInput(){const t=i.Z.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){i.Z.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},54967:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHVSURBVHgBvdY9TsMwFAfw51RiAYbewAsVx2hvwAKiG906AGJqx6RXYGLrGAQLJyA9B1N2JLo3TYKdNCLkw3n2c/qXqqR1Gv/kOH5mQM2tzyGGNUQwg49pCIQwoERCEgjEGRefEHYwoYDMMf8hRUggM0wzhAzSx6ghJJAeBgcxBjnYC5WQFDYN/+BwIq6/8jlYxahHZAXv00l2JIK6MV2Qt6mXneXHVtDybs6BhMFCirSAlqcBX5x/Bts556AIswYp58aXbe4BAouzTdESOtFuMnwJQ0BjKJASSEDcEqQTxHqBHPJ9P/Iclo8QBsT6gpiAWJ8QXRDrG6IDYseAYEEMrv1AjM+41iyX+HxltZqfh4sgBTau/s4g3TgwEDs0WdTqrWPxerpgMdvHkdsEkf2zKJph5ownHtUKLECSVNyrAfI3Z4r0CMJA5BeddcYIhIXUMZZBOhCZetV+FTszB+RbFFabRK3xZAfQA0QGXbXL1VesFd7w+WtlE6LGlEDZfqRSfdtAppBujIjcocmNETTMoSqIAkFhsk6eLnkSJ0oQFYLGdIHkUt62smIh+X00ogJRIdoYDZA2xAiDABlBjDEKkDGEhGkAkSBkTAGK9/F6sI9mFIjML+67nouzEvU5AAAAAElFTkSuQmCC"}}]);